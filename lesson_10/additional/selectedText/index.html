<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SelectedText</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
    <div id="text">abcdefghlmnrksqwiopxm123456789</div>
</div>

<script>
    // Завдання важке для розуміння, але дуже легке в реалізації. Тут треба буде погуглити
    // *** При виділені сегменту тексту на сторінці він стає жирний/курсивний/або якось іншим способом змінює свій стан

    window.addEventListener("mouseup", function () {
        let tag = null;
        let selection = window.getSelection()
        if (selection) {
            tag = selection.anchorNode.parentElement
            let allText = selection.anchorNode.nodeValue
            let selectedText = selection.toString()
            tag.innerHTML = allText.replace(`${selectedText}`, `<span class="changer">${selectedText}</span>`)
            if(!!selection.anchorNode.parentElement.getElementsByTagName('span')[0]){
                setTimeout(function (){
                    tag.innerHTML = allText
                },2000)
            }
        }
    });

</script>
</body>
</html>